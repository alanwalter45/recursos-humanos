var _0xd8b0=['js-yaml','./os','whatPathFileConfig','readFileSync','utf-8','stringify','headers','authorization','status','send','NO\x20VERIFICADO\x20-\x20alanwalter45@gmail.com','decode','app','gral','secret_api_key','exp','unix','el\x20token\x20expirÃ³\x20-\x20alanwalter45@gmail.com','el\x20token\x20error\x20-\x20alanwalter45@gmail.com','jwt-simple','moment'];(function(_0x1cf7cd,_0x1044a5){var _0x912a97=function(_0xb74efd){while(--_0xb74efd){_0x1cf7cd['push'](_0x1cf7cd['shift']());}};_0x912a97(++_0x1044a5);}(_0xd8b0,0xe5));var _0x4a1c=function(_0x1bf79e,_0x351657){_0x1bf79e=_0x1bf79e-0x0;var _0x3b5368=_0xd8b0[_0x1bf79e];return _0x3b5368;};const jwt=require(_0x4a1c('0x0'));const moment=require(_0x4a1c('0x1'));const fs=require('fs');const yaml=require(_0x4a1c('0x2'));let pathFileConfig=require(_0x4a1c('0x3'));var path_file=pathFileConfig[_0x4a1c('0x4')]();try{const docYML=yaml['safeLoad'](fs[_0x4a1c('0x5')](path_file,_0x4a1c('0x6')));var ymlDoc=JSON['parse'](JSON[_0x4a1c('0x7')](docYML));}catch(_0x290d28){throw _0x290d28;}exports['ensureAuthenticated']=(_0x5849ad,_0x473d0e,_0x20c76a)=>{if(!_0x5849ad[_0x4a1c('0x8')][_0x4a1c('0x9')]){return _0x473d0e[_0x4a1c('0xa')](0x193)[_0x4a1c('0xb')]({'message':_0x4a1c('0xc')});}const _0x70c2de=_0x5849ad[_0x4a1c('0x8')][_0x4a1c('0x9')]['split']('\x20')[0x1];try{const _0x59d84a=jwt[_0x4a1c('0xd')](JSON['stringify'](_0x70c2de)['replace']('\x22','')['slice'](0x0,-0x1),ymlDoc[_0x4a1c('0xe')][_0x4a1c('0xf')][_0x4a1c('0x10')]);if(_0x59d84a[_0x4a1c('0x11')]<=moment()[_0x4a1c('0x12')]()){return _0x473d0e[_0x4a1c('0xa')](0x191)['send']({'message':_0x4a1c('0x13')});}}catch(_0x3dcf4f){return _0x473d0e[_0x4a1c('0xa')](0x191)[_0x4a1c('0xb')]({'message':_0x4a1c('0x14'),'error':_0x3dcf4f});}_0x20c76a();};