var _0x226f=['post','/biometricos/add','parse','body','json','ubicacion','observacion','\x0a\x20\x20insert\x20into\x20biometricos(nombre,ip,ubicacion,observacion)\x0a\x20\x20select\x20?,?,?,?\x0a\x20\x20where\x20not\x20exists(select\x201\x20from\x20biometricos\x20where\x20ip=?)','affectedRows','ensureAuthenticated','query','\x0a\x20delete\x20from\x20biometricos\x20where\x20id=?','/biometricos/update','nombre','\x0a\x20\x20update\x20biometricos\x20set\x20nombre=?,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip=?,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ubicacion=?,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20observacion=?\x0a\x20\x20where\x20id=?','/biometricos/set-enable','estado','\x0a\x20\x20update\x20biometricos\x20set\x20estado=?\x0a\x20\x20where\x20id=?','connect','enableDevice','stringify','disableDevice','disconnect','/biometricos/scan-red','rangoIp','nmap','QuickScan','complete','error','startScan','exports','zklib','express','../../middleware','../../databaseMysql','get','/biometricos/get-all','\x0a\x20\x20select\x20*\x20from\x20biometricos\x0a\x20\x20order\x20by\x20nombre\x20asc;','status','send','length'];(function(_0x51560d,_0x17bb85){var _0x44a051=function(_0x4a4a88){while(--_0x4a4a88){_0x51560d['push'](_0x51560d['shift']());}};_0x44a051(++_0x17bb85);}(_0x226f,0x1b9));var _0x1f50=function(_0x3c9517,_0x3ac179){_0x3c9517=_0x3c9517-0x0;var _0x1884a5=_0x226f[_0x3c9517];return _0x1884a5;};const ZkLib=require(_0x1f50('0x0'));const express=require(_0x1f50('0x1'));const router=express['Router']();const middleware=require(_0x1f50('0x2'));const mysqldb=require(_0x1f50('0x3'));var nmap=require('node-nmap');router[_0x1f50('0x4')](_0x1f50('0x5'),middleware['ensureAuthenticated'],(_0x21040d,_0x541b13,_0x1e3d83)=>{mysqldb['query'](_0x1f50('0x6'),(_0x1ad348,_0x15e369)=>{if(_0x1ad348){throw _0x1ad348;}_0x541b13[_0x1f50('0x7')](0xc8)[_0x1f50('0x8')]({'success':_0x15e369[_0x1f50('0x9')]?!![]:![],'result':_0x15e369});});});router[_0x1f50('0xa')](_0x1f50('0xb'),middleware['ensureAuthenticated'],(_0x1d5fa1,_0xf381fb,_0x4133de)=>{const _0x1ee899=JSON[_0x1f50('0xc')](_0x1d5fa1[_0x1f50('0xd')][_0x1f50('0xe')]);const _0x5f168a=_0x1ee899['nombre'];const _0x58ec38=_0x1ee899['ip'];const _0x5d1761=_0x1ee899[_0x1f50('0xf')];const _0x353a5b=_0x1ee899[_0x1f50('0x10')];mysqldb['query'](_0x1f50('0x11'),[_0x5f168a,_0x58ec38,_0x5d1761,_0x353a5b,_0x58ec38],function(_0x2b24ff,_0x385eb){if(_0x2b24ff){throw _0x2b24ff;}_0xf381fb[_0x1f50('0x7')](0xc8)[_0x1f50('0x8')]({'success':_0x385eb[_0x1f50('0x12')]?!![]:![]});});});router['post']('/biometricos/remove',middleware[_0x1f50('0x13')],(_0x1d7242,_0x5c356d,_0x3591)=>{const _0x513dfb=JSON[_0x1f50('0xc')](_0x1d7242[_0x1f50('0xd')][_0x1f50('0xe')]);const _0x2dd1aa=_0x513dfb['id'];mysqldb[_0x1f50('0x14')](_0x1f50('0x15'),[_0x2dd1aa],function(_0x5a264f,_0x1099e5){if(_0x5a264f){throw _0x5a264f;}_0x5c356d[_0x1f50('0x7')](0xc8)['send']({'success':_0x1099e5[_0x1f50('0x12')]?!![]:![]});});});router['post'](_0x1f50('0x16'),middleware[_0x1f50('0x13')],(_0xde95f7,_0x356502,_0x18aa57)=>{const _0xb9f9ee=JSON['parse'](_0xde95f7[_0x1f50('0xd')][_0x1f50('0xe')]);const _0x1be4ed=_0xb9f9ee['id'];const _0x454004=_0xb9f9ee[_0x1f50('0x17')];const _0x561e7c=_0xb9f9ee['ip'];const _0x2cdf37=_0xb9f9ee[_0x1f50('0xf')];const _0x3a4212=_0xb9f9ee[_0x1f50('0x10')];mysqldb[_0x1f50('0x14')](_0x1f50('0x18'),[_0x454004,_0x561e7c,_0x2cdf37,_0x3a4212,_0x1be4ed],function(_0x153b6f,_0x1336b1){if(_0x153b6f){throw _0x153b6f;}_0x356502[_0x1f50('0x7')](0xc8)['send']({'success':_0x1336b1[_0x1f50('0x12')]?!![]:![]});});});router[_0x1f50('0xa')](_0x1f50('0x19'),middleware[_0x1f50('0x13')],(_0x1384ee,_0x2c6a75,_0x590180)=>{const _0x29699f=JSON[_0x1f50('0xc')](_0x1384ee[_0x1f50('0xd')][_0x1f50('0xe')]);const _0x6250bc=_0x29699f['id'];const _0x5ea470=_0x29699f[_0x1f50('0x1a')];mysqldb['query'](_0x1f50('0x1b'),[_0x5ea470,_0x6250bc],function(_0x1d78f4,_0x337a2b){if(_0x1d78f4)throw _0x1d78f4;Zk=new ZkLib({'ip':_0x29699f['ip'],'port':0x1112,'inport':0x1450,'timeout':0x1388});Zk[_0x1f50('0x1c')](function(_0x39e1e2){if(_0x39e1e2)throw _0x39e1e2;if(_0x5ea470){Zk[_0x1f50('0x1d')](function(_0x533b96){if(_0x533b96)throw _0x533b96;Zk['disconnect'](function(_0x294404){if(_0x294404)throw _0x294404;_0x2c6a75[_0x1f50('0x7')](0xc8)['send'](JSON[_0x1f50('0x1e')]({'success':!![]}));});});}else{Zk[_0x1f50('0x1f')](function(_0x4bd016){if(_0x4bd016)throw _0x4bd016;Zk[_0x1f50('0x20')](function(_0x1b7ef9){if(_0x1b7ef9)throw _0x1b7ef9;_0x2c6a75['status'](0xc8)[_0x1f50('0x8')](JSON[_0x1f50('0x1e')]({'success':!![]}));});});}});});});router['post'](_0x1f50('0x21'),middleware[_0x1f50('0x13')],(_0x3a427f,_0x52a242,_0x30a023)=>{const _0x59e300=JSON[_0x1f50('0xc')](_0x3a427f[_0x1f50('0xd')]['json']);const _0x3c7df2=_0x59e300[_0x1f50('0x22')];nmap['nmapLocation']=_0x1f50('0x23');var _0x478759=new nmap[(_0x1f50('0x24'))](_0x3c7df2);_0x478759['on'](_0x1f50('0x25'),function(_0x5cdb49){_0x52a242[_0x1f50('0x7')](0xc8)[_0x1f50('0x8')]({'success':!![],'data':_0x5cdb49});});_0x478759['on'](_0x1f50('0x26'),function(_0x45c796){throw _0x45c796;});_0x478759[_0x1f50('0x27')]();});module[_0x1f50('0x28')]=router;