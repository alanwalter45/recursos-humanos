var _0x15cb=['\x0a\x20\x20insert\x20into\x20biometricos(nombre,ip,ubicacion,observacion)\x20\x0a\x20\x20select\x20?,?,?,?\x0a\x20\x20where\x20not\x20exists(select\x201\x20from\x20biometricos\x20where\x20ip=?)','affectedRows','/biometricos/remove','json','\x0a\x20delete\x20from\x20biometricos\x20where\x20id=?','status','/biometricos/update','observacion','\x0a\x20\x20update\x20biometricos\x20set\x20nombre=?,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip=?,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ubicacion=?,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20observacion=?\x0a\x20\x20where\x20id=?','/biometricos/set-enable','estado','\x0a\x20\x20update\x20biometricos\x20set\x20estado=?\x0a\x20\x20where\x20id=?','connect','disconnect','stringify','disableDevice','/biometricos/scan-red','rangoIp','QuickScan','complete','error','startScan','exports','zklib','express','Router','../../middleware','../../databaseMysql','get','/biometricos/get-all','ensureAuthenticated','query','send','length','post','parse','body','nombre','ubicacion'];(function(_0x2dccb6,_0x2a68d4){var _0x24faf0=function(_0x3c9658){while(--_0x3c9658){_0x2dccb6['push'](_0x2dccb6['shift']());}};_0x24faf0(++_0x2a68d4);}(_0x15cb,0x8c));var _0x5833=function(_0x19ce5c,_0x531c72){_0x19ce5c=_0x19ce5c-0x0;var _0x249b70=_0x15cb[_0x19ce5c];return _0x249b70;};const ZkLib=require(_0x5833('0x0'));const express=require(_0x5833('0x1'));const router=express[_0x5833('0x2')]();const middleware=require(_0x5833('0x3'));const mysqldb=require(_0x5833('0x4'));var nmap=require('node-nmap');router[_0x5833('0x5')](_0x5833('0x6'),middleware[_0x5833('0x7')],(_0x1d9be,_0x334a3e,_0x29d994)=>{mysqldb[_0x5833('0x8')]('\x0a\x20\x20select\x20*\x20from\x20biometricos\x0a\x20\x20order\x20by\x20nombre\x20asc;',(_0x54d0a0,_0x40bfc0)=>{if(_0x54d0a0){throw _0x54d0a0;}_0x334a3e['status'](0xc8)[_0x5833('0x9')]({'success':_0x40bfc0[_0x5833('0xa')]?!![]:![],'result':_0x40bfc0});});});router[_0x5833('0xb')]('/biometricos/add',middleware[_0x5833('0x7')],(_0x34b78c,_0x858959,_0x1b26ce)=>{const _0x592559=JSON[_0x5833('0xc')](_0x34b78c[_0x5833('0xd')]['json']);const _0x1fa810=_0x592559[_0x5833('0xe')];const _0x175179=_0x592559['ip'];const _0x2edb2b=_0x592559[_0x5833('0xf')];const _0x45d33f=_0x592559['observacion'];mysqldb['query'](_0x5833('0x10'),[_0x1fa810,_0x175179,_0x2edb2b,_0x45d33f,_0x175179],function(_0x3a1e4d,_0x177097){if(_0x3a1e4d){throw _0x3a1e4d;}_0x858959['status'](0xc8)[_0x5833('0x9')]({'success':_0x177097[_0x5833('0x11')]?!![]:![]});});});router['post'](_0x5833('0x12'),middleware[_0x5833('0x7')],(_0x341ca6,_0xc5f297,_0x2256fa)=>{const _0x55a2d2=JSON[_0x5833('0xc')](_0x341ca6[_0x5833('0xd')][_0x5833('0x13')]);const _0xd13054=_0x55a2d2['id'];mysqldb[_0x5833('0x8')](_0x5833('0x14'),[_0xd13054],function(_0x2a4491,_0x2cf9bc){if(_0x2a4491){throw _0x2a4491;}_0xc5f297[_0x5833('0x15')](0xc8)['send']({'success':_0x2cf9bc[_0x5833('0x11')]?!![]:![]});});});router[_0x5833('0xb')](_0x5833('0x16'),middleware['ensureAuthenticated'],(_0x458c13,_0x239315,_0x473566)=>{const _0x14127a=JSON[_0x5833('0xc')](_0x458c13[_0x5833('0xd')][_0x5833('0x13')]);const _0x326951=_0x14127a['id'];const _0x2703e8=_0x14127a['nombre'];const _0x2cd35f=_0x14127a['ip'];const _0x3cd517=_0x14127a['ubicacion'];const _0x5ccd26=_0x14127a[_0x5833('0x17')];mysqldb[_0x5833('0x8')](_0x5833('0x18'),[_0x2703e8,_0x2cd35f,_0x3cd517,_0x5ccd26,_0x326951],function(_0x41a738,_0x1094bc){if(_0x41a738){throw _0x41a738;}_0x239315['status'](0xc8)['send']({'success':_0x1094bc[_0x5833('0x11')]?!![]:![]});});});router[_0x5833('0xb')](_0x5833('0x19'),middleware[_0x5833('0x7')],(_0x2b72de,_0x126f7f,_0x41a514)=>{const _0xef95a3=JSON[_0x5833('0xc')](_0x2b72de[_0x5833('0xd')][_0x5833('0x13')]);const _0x4d790b=_0xef95a3['id'];const _0x51a96d=_0xef95a3[_0x5833('0x1a')];mysqldb['query'](_0x5833('0x1b'),[_0x51a96d,_0x4d790b],function(_0x386ad6,_0x39b774){if(_0x386ad6)throw _0x386ad6;Zk=new ZkLib({'ip':_0xef95a3['ip'],'port':0x1112,'inport':0x1450,'timeout':0x1388});Zk[_0x5833('0x1c')](function(_0xb726b1){if(_0xb726b1)throw _0xb726b1;if(_0x51a96d){Zk['enableDevice'](function(_0x21abaf){if(_0x21abaf)throw _0x21abaf;Zk[_0x5833('0x1d')](function(_0x101883){if(_0x101883)throw _0x101883;_0x126f7f[_0x5833('0x15')](0xc8)[_0x5833('0x9')](JSON[_0x5833('0x1e')]({'success':!![]}));});});}else{Zk[_0x5833('0x1f')](function(_0x2989b8){if(_0x2989b8)throw _0x2989b8;Zk['disconnect'](function(_0x5b0d95){if(_0x5b0d95)throw _0x5b0d95;_0x126f7f[_0x5833('0x15')](0xc8)[_0x5833('0x9')](JSON[_0x5833('0x1e')]({'success':!![]}));});});}});});});router[_0x5833('0xb')](_0x5833('0x20'),middleware[_0x5833('0x7')],(_0x57a278,_0x1a0ddb,_0x2c0caf)=>{const _0x4f6fd3=JSON['parse'](_0x57a278[_0x5833('0xd')]['json']);const _0x3b4d6a=_0x4f6fd3[_0x5833('0x21')];nmap['nmapLocation']='nmap';var _0x34c993=new nmap[(_0x5833('0x22'))](_0x3b4d6a);_0x34c993['on'](_0x5833('0x23'),function(_0x2e5c85){_0x1a0ddb['status'](0xc8)[_0x5833('0x9')]({'success':!![],'data':_0x2e5c85});});_0x34c993['on'](_0x5833('0x24'),function(_0x463d32){throw _0x463d32;});_0x34c993[_0x5833('0x25')]();});module[_0x5833('0x26')]=router;