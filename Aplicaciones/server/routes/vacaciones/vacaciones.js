var _0x5e64=['\x0a\x20\x0a\x20\x20SELECT\x20\x0a\x20\x20vac.id,\x0a\x20\x20sp.id\x20as\x20servidor_publico_id,\x0a\x20\x20sp.numero_documento,\x0a\x20\x20sp.nombres,sp.apellido_paterno,sp.apellido_materno,\x0a\x20\x20sp.genero,\x0a\x20\x20sp.fecha_nacimiento,\x0a\x20\x20sp.correo_electronico,\x0a\x20\x20sp.telefono_fijo,\x0a\x20\x20sp.telefono_movil,\x0a\x20\x20sp.estado_civil,\x0a\x20\x20sp.direccion,\x0a\x20\x20sp.departamento_id,\x0a\x20\x20sp.pais_id,\x0a\x20\x20sp.provincia_id,\x0a\x20\x20sp.distrito,\x0a\x20\x20sp.localidad,\x0a\x20\x20sp.licencia_conducir,\x0a\x20\x20de.nombre\x20as\x20departamento,\x0a\x20\x20de2.nombre\x20as\x20departamento_expedido,\x0a\x20\x20un.nombre\x20as\x20unidad,\x0a\x20\x20ar.nombre\x20as\x20area,\x0a\x20\x20ca.nombre\x20as\x20cargo,\x0a\x20\x20re.estado,\x0a\x20\x20es.tipo_contratacion,\x0a\x20\x20ifc.forma_ingreso,\x0a\x20\x20ifc.fecha_inicio,\x0a\x20\x20ifc.fecha_conclusion,\x0a\x20\x20ifc.motivo_conclusion,\x0a\x20\x20re.id\x20as\x20registro_id,\x0a\x20\x20re.observado,\x0a\x20\x20es.numero,\x0a\x20\x20es.id\x20as\x20estructura_id,\x0a\x20\x20cat.codigo\x20as\x20categoria_programatica_id,\x0a\x20\x20sp.codigo_biometrico,\x0a\x20\x20vac.fecha_inicio\x20as\x20fecha_inicio_vacacion,\x0a\x20\x20vac.fecha_conclusion\x20as\x20fecha_conclusion_vacacion,\x0a\x20\x20vac.estado\x20as\x20estado_vacacion,\x0a\x20\x20vac.numero_dias\x20as\x20numero_dias_vacacion\x0a\x20\x20FROM\x20registros\x20re\x20INNER\x20JOIN\x20servidores_publicos\x20sp\x20ON\x20re.servidor_publico_id=sp.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20departamentos\x20de\x20ON\x20sp.departamento_id=de.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20departamentos\x20de2\x20ON\x20sp.numero_documento_expedido=de2.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20estructuras\x20es\x20ON\x20es.id=re.estructura_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20escalas_salariales\x20esa\x20ON\x20esa.id=es.escala_salarial_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20cargos\x20ca\x20ON\x20ca.id=esa.cargo_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20unidades\x20un\x20ON\x20un.id=es.unidad_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20inf_contratacion\x20ifc\x20ON\x20re.id=ifc.registro_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20areas\x20ar\x20ON\x20ar.id=un.area_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20categorias_programaticas\x20cat\x20ON\x20cat.id=es.categoria_programatica_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INNER\x20JOIN\x20vacaciones\x20vac\x20ON\x20vac.registro_id=re.id\x0a\x20\x20WHERE\x20re.mes_id\x20=(select\x20id\x20from\x20meses\x20where\x20selected=1)\x0a\x20\x20AND\x20un.id=(select\x20unidad_id\x20from\x20registros\x20re\x20inner\x20join\x20estructuras\x20es\x20on\x20\x20re.estructura_id=es.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20where\x20re.mes_id\x20=(select\x20id\x20from\x20meses\x20where\x20selected=1)\x20and\x20re.servidor_publico_id=?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20ORDER\x20BY\x20es.numero\x20asc\x0a\x20\x0a\x20\x20','express','moment','./../../databaseMysql','./../../middleware','post','/vacaciones/add','ensureAuthenticated','parse','json','registro_id','fecha_inicio','numero_dias','YYYY-MM-DD\x20HH:mm:ss','fecha_conclusion','query','CALL\x20add_formulario_vacacion(?,?,?,?,?)','status','send','length','/vacaciones/update','/vacaciones/actualizar-estado','body','estado','vacacion_id','UPDATE\x20vacaciones\x20SET\x20estado=?\x20,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20motivo_cambio_estado=?\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?','affectedRows','/vacaciones/delete','UPDATE\x20vacaciones\x20SET\x20estado=?\x0a\x20\x20\x20\x20WHERE\x20registro_id=?\x20AND\x20id=?','/vacaciones/get-all','\x0a\x20\x20SELECT\x20vac.*,\x0a\x20\x20sp.nombres,sp.apellido_paterno,sp.apellido_materno,\x0a\x20\x20sp.numero_documento,\x0a\x20\x20de.nombre\x20as\x20departamento,\x0a\x20\x20ca.nombre\x20as\x20cargo,\x0a\x20\x20ar.nombre\x20as\x20area,\x0a\x20\x20un.nombre\x20as\x20unidad,\x0a\x20\x20es.tipo_contratacion\x0a\x20\x20FROM\x20registros\x20re\x20INNER\x20JOIN\x20servidores_publicos\x20sp\x20ON\x20re.servidor_publico_id=sp.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20departamentos\x20de\x20ON\x20sp.departamento_id=de.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20estructuras\x20es\x20ON\x20es.id=re.estructura_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20escalas_salariales\x20esa\x20ON\x20esa.id=es.escala_salarial_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20cargos\x20ca\x20ON\x20ca.id=esa.cargo_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20unidades\x20un\x20ON\x20un.id=es.unidad_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20areas\x20ar\x20ON\x20ar.id=un.area_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INNER\x20JOIN\x20vacaciones\x20vac\x20ON\x20vac.registro_id=re.id\x0a\x20\x20WHERE\x20re.mes_id=(SELECT\x20id\x20FROM\x20meses\x20WHERE\x20selected=1)','/vacaciones/get-all-registro','\x0a\x20\x20SELECT\x20vac.*,\x0a\x20\x20sp.nombres,sp.apellido_paterno,sp.apellido_materno,\x0a\x20\x20sp.numero_documento,\x0a\x20\x20de.nombre\x20as\x20departamento,\x0a\x20\x20ca.nombre\x20as\x20cargo,\x0a\x20\x20ar.nombre\x20as\x20area,\x0a\x20\x20un.nombre\x20as\x20unidad,\x0a\x20\x20es.tipo_contratacion\x0a\x20\x20FROM\x20registros\x20re\x20INNER\x20JOIN\x20servidores_publicos\x20sp\x20ON\x20re.servidor_publico_id=sp.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20departamentos\x20de\x20ON\x20sp.departamento_id=de.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20estructuras\x20es\x20ON\x20es.id=re.estructura_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20escalas_salariales\x20esa\x20ON\x20esa.id=es.escala_salarial_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20cargos\x20ca\x20ON\x20ca.id=esa.cargo_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20unidades\x20un\x20ON\x20un.id=es.unidad_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20areas\x20ar\x20ON\x20ar.id=un.area_id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INNER\x20JOIN\x20vacaciones\x20vac\x20ON\x20vac.registro_id=re.id\x0a\x20\x20WHERE\x20re.id=?\x20AND\x20re.mes_id=(SELECT\x20id\x20FROM\x20meses\x20WHERE\x20selected=1)','/vacaciones/servants-dependientes'];(function(_0x29fb87,_0x2c02ef){var _0x2196e0=function(_0x42de61){while(--_0x42de61){_0x29fb87['push'](_0x29fb87['shift']());}};_0x2196e0(++_0x2c02ef);}(_0x5e64,0x177));var _0x520c=function(_0x4ac132,_0x3f39b2){_0x4ac132=_0x4ac132-0x0;var _0x55c8ac=_0x5e64[_0x4ac132];return _0x55c8ac;};const express=require(_0x520c('0x0'));const router=express['Router']();const moment=require(_0x520c('0x1'));const mysqldb=require(_0x520c('0x2'));const middleware=require(_0x520c('0x3'));router[_0x520c('0x4')](_0x520c('0x5'),middleware[_0x520c('0x6')],(_0x1feaf4,_0x29f262,_0x2d066f)=>{const _0x2b22fe=JSON[_0x520c('0x7')](_0x1feaf4['body'][_0x520c('0x8')]);const _0xe6afb8=_0x2b22fe[_0x520c('0x9')];const _0x10c6e9=_0x2b22fe[_0x520c('0xa')];const _0x22a172=_0x2b22fe[_0x520c('0xb')];const _0x2819e8=moment(new Date())['format'](_0x520c('0xc'));const _0x49566b=_0x2b22fe[_0x520c('0xd')];mysqldb[_0x520c('0xe')](_0x520c('0xf'),[_0x2819e8,_0x22a172,_0x10c6e9,_0x49566b,_0xe6afb8],function(_0x572cbb,_0x2370f1){if(_0x572cbb)throw _0x572cbb;_0x29f262[_0x520c('0x10')](0xc8)[_0x520c('0x11')]({'success':_0x2370f1[_0x520c('0x12')],'result':_0x2370f1});});});router['post'](_0x520c('0x13'),middleware[_0x520c('0x6')],(_0x26b7cb,_0x493db4,_0x59c9ef)=>{});router[_0x520c('0x4')](_0x520c('0x14'),middleware[_0x520c('0x6')],(_0x3ad58c,_0x248fe2,_0x38cab9)=>{let _0x127640=JSON['parse'](_0x3ad58c[_0x520c('0x15')]['json']);let _0x55dce6=_0x127640[_0x520c('0x16')];let _0x25c6ef=_0x127640[_0x520c('0x17')];let _0x48d734=_0x127640['motivo_cambio_estado'];mysqldb[_0x520c('0xe')](_0x520c('0x18'),[_0x55dce6,_0x48d734,_0x25c6ef],function(_0x40f46e,_0x366f7a){if(_0x40f46e)throw _0x40f46e;_0x248fe2['status'](0xc8)[_0x520c('0x11')]({'success':_0x366f7a[_0x520c('0x19')]?!![]:![]});});});router[_0x520c('0x4')](_0x520c('0x1a'),middleware[_0x520c('0x6')],(_0x345bc2,_0x19dd64,_0x18bbac)=>{const _0x31d5be=JSON[_0x520c('0x7')](_0x345bc2[_0x520c('0x15')][_0x520c('0x8')]);const _0x47af2e=_0x31d5be[_0x520c('0x9')];const _0x3393fc=_0x31d5be['id'];mysqldb[_0x520c('0xe')](_0x520c('0x1b'),[0x4,_0x47af2e,_0x3393fc],(_0x3d3eaf,_0x3346bc)=>{if(_0x3d3eaf){throw _0x3d3eaf;}_0x19dd64[_0x520c('0x10')](0xc8)[_0x520c('0x11')]({'success':_0x3346bc['affectedRows']?!![]:![]});});});router['get'](_0x520c('0x1c'),middleware['ensureAuthenticated'],(_0x35ee2e,_0x297e75,_0x4dd02a)=>{mysqldb[_0x520c('0xe')](_0x520c('0x1d'),function(_0x181799,_0x20c5e1){if(_0x181799)throw _0x181799;_0x297e75[_0x520c('0x10')](0xc8)[_0x520c('0x11')]({'success':_0x20c5e1[_0x520c('0x12')]?!![]:![],'result':_0x20c5e1});});});router[_0x520c('0x4')](_0x520c('0x1e'),middleware[_0x520c('0x6')],(_0xfc4878,_0x167eab,_0x400c1b)=>{let _0x8e86ab=JSON[_0x520c('0x7')](_0xfc4878[_0x520c('0x15')][_0x520c('0x8')]);let _0x4e476d=_0x8e86ab['registro_id'];mysqldb[_0x520c('0xe')](_0x520c('0x1f'),[_0x4e476d],function(_0x4bb9fa,_0x53876c){if(_0x4bb9fa)throw _0x4bb9fa;_0x167eab[_0x520c('0x10')](0xc8)['send']({'success':_0x53876c[_0x520c('0x12')]?!![]:![],'result':_0x53876c});});});router[_0x520c('0x4')](_0x520c('0x20'),middleware['ensureAuthenticated'],(_0x786e98,_0x331193,_0x3e3db1)=>{let _0x20f885=JSON[_0x520c('0x7')](_0x786e98[_0x520c('0x15')][_0x520c('0x8')]);let _0x43564a=_0x20f885['servidor_publico_id'];mysqldb[_0x520c('0xe')](_0x520c('0x21'),[_0x43564a],function(_0x1f0dae,_0x58f921){if(_0x1f0dae)throw _0x1f0dae;_0x331193[_0x520c('0x10')](0xc8)['send']({'success':_0x58f921[_0x520c('0x12')]?!![]:![],'result':_0x58f921});});});module['exports']=router;