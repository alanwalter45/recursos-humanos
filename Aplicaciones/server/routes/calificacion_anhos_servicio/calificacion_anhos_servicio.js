var _0x37af=['post','ensureAuthenticated','body','json','servidor_publico_id','anhos','meses','dias','fecha_ultima_calificacion','format','YYYY-MM-DD','comentario','\x0a\x20\x20INSERT\x20INTO\x20calificacion_anhos_servicio(anhos,meses,dias,fecha_ultima_calificacion,comentario,servidor_publico_id)\x0a\x20\x20SELECT\x20?,?,?,?,?,?\x0a\x20\x20WHERE\x20NOT\x20EXISTS(SELECT\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20calificacion_anhos_servicio\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20fecha_ultima_calificacion=?\x20AND\x20servidor_publico_id=?)','status','send','affectedRows','get','/calificacion-anhos-servicio/get-all-actual','query','\x0a\x20\x20SELECT\x20cal.*,\x0a\x20\x20sp.nombres,sp.apellido_paterno,sp.apellido_materno,\x0a\x20\x20sp.numero_documento\x0a\x20\x20FROM\x20calificacion_anhos_servicio\x20cal\x20INNER\x20JOIN\x20servidores_publicos\x20sp\x20ON\x20cal.servidor_publico_id=sp.id\x0a\x20\x20WHERE\x20date_format(now(),\x27%m\x27)=date_format(fecha_ultima_calificacion,\x27%m\x27)\x0a\x20\x20ORDER\x20BY\x20cal.fecha_ultima_calificacion\x20ASC','length','/calificacion-anhos-servicio/delete','parse','\x0a\x20\x20DELETE\x20FROM\x20\x20calificacion_anhos_servicio\x0a\x20\x20WHERE\x20id=?','exports','express','../../middleware','moment'];(function(_0x2b8b03,_0x4d77f6){var _0xbf17ae=function(_0x5ad034){while(--_0x5ad034){_0x2b8b03['push'](_0x2b8b03['shift']());}};_0xbf17ae(++_0x4d77f6);}(_0x37af,0x131));var _0x3831=function(_0x258998,_0x303d8e){_0x258998=_0x258998-0x0;var _0x53b230=_0x37af[_0x258998];return _0x53b230;};const express=require(_0x3831('0x0'));const router=express['Router']();const middleware=require(_0x3831('0x1'));const mysqldb=require('../../databaseMysql');const moment=require(_0x3831('0x2'));router[_0x3831('0x3')]('/calificacion-anhos-servicio/add',middleware[_0x3831('0x4')],(_0x261f41,_0x140a00,_0x5a243d)=>{const _0x1d289a=JSON['parse'](_0x261f41[_0x3831('0x5')][_0x3831('0x6')]);const _0x36b473=_0x1d289a[_0x3831('0x7')];const _0x5018db=_0x1d289a[_0x3831('0x8')]?_0x1d289a[_0x3831('0x8')]:null;const _0x1679b8=_0x1d289a[_0x3831('0x9')]?_0x1d289a[_0x3831('0x9')]:null;const _0x5122dc=_0x1d289a[_0x3831('0xa')]?_0x1d289a[_0x3831('0xa')]:null;const _0x10817b=moment(_0x1d289a[_0x3831('0xb')])[_0x3831('0xc')](_0x3831('0xd'));const _0x2cae17=_0x1d289a[_0x3831('0xe')]?_0x1d289a[_0x3831('0xe')]['toUpperCase']():null;mysqldb['query'](_0x3831('0xf'),[_0x5018db,_0x1679b8,_0x5122dc,_0x10817b,_0x2cae17,_0x36b473,_0x10817b,_0x36b473],function(_0x54c8f4,_0x52f68d){if(_0x54c8f4)throw _0x54c8f4;_0x140a00[_0x3831('0x10')](0xc8)[_0x3831('0x11')]({'success':_0x52f68d[_0x3831('0x12')]?!![]:![],'result':_0x52f68d[_0x3831('0x12')]});});});router[_0x3831('0x13')](_0x3831('0x14'),middleware['ensureAuthenticated'],(_0x5078da,_0x4ac581,_0x2d2702)=>{mysqldb[_0x3831('0x15')](_0x3831('0x16'),(_0x40d8bb,_0xa9b79c)=>{if(_0x40d8bb){throw _0x40d8bb;}_0x4ac581[_0x3831('0x10')](0xc8)[_0x3831('0x11')]({'success':_0xa9b79c[_0x3831('0x17')]?!![]:![],'result':_0xa9b79c});});});router[_0x3831('0x3')](_0x3831('0x18'),middleware[_0x3831('0x4')],(_0x584e2b,_0x443474,_0x21c522)=>{const _0x39f0c4=JSON[_0x3831('0x19')](_0x584e2b[_0x3831('0x5')]['json']);const _0x4e6ef4=_0x39f0c4['id'];mysqldb[_0x3831('0x15')](_0x3831('0x1a'),[_0x4e6ef4],function(_0x53d895,_0x3d5652){if(_0x53d895)throw _0x53d895;_0x443474['status'](0xc8)[_0x3831('0x11')]({'success':_0x3d5652[_0x3831('0x12')]?!![]:![],'result':_0x3d5652[_0x3831('0x12')]});});});module[_0x3831('0x1b')]=router;