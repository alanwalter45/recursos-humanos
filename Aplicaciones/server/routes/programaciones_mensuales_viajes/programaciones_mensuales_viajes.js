var _0x3acc=['/programaciones-mensuales-viajes/update-actividad/resultado','cumplimiento_ejecucion','\x0a\x20\x20UPDATE\x20programaciones_mensuales_viajes\x20set\x20cumplimiento_ejecucion=?,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fecha_modificacion=?\x0a\x20\x20WHERE\x20id=?','exports','express','moment','../../databaseMysql','../../middleware','post','/programaciones-mensuales-viajes/add-actividad','parse','body','permiso_id','fecha','format','YYYY-MM-DD\x20HH:mm:ss','lugar','toString','toUpperCase','actividad','query','\x0a\x20\x20INSERT\x20INTO\x20programaciones_mensuales_viajes(fecha,\x20lugar,\x20actividad,\x20permiso_id,\x20fecha_modificacion)\x0a\x20\x20select\x20?,?,?,?,?\x0a\x20\x20WHERE\x20NOT\x20EXISTS(SELECT\x20*\x20FROM\x20programaciones_mensuales_viajes\x0a\x20\x20\x20\x20WHERE\x20permiso_id=?\x20and\x20fecha=?\x20and\x20actividad=?)','status','affectedRows','/programaciones-mensuales-viajes/get-programacion-mensual-registro','json','\x0a\x20\x20SELECT\x20pm.*\x20from\x20programaciones_mensuales_viajes\x20pm\x20inner\x20join\x20permisos\x20per\x20on\x20pm.permiso_id=per.id\x0a\x20\x20where\x20pm.permiso_id=?\x20AND\x20date_format(pm.fecha_modificacion,\x27%m\x27)=date_format(now(),\x27%m\x27)\x0a\x20\x20ORDER\x20BY\x20pm.fecha','send','length','ensureAuthenticated','\x0a\x20DELETE\x20FROM\x20programaciones_mensuales_viajes\x20WHERE\x20id=?','/programaciones-mensuales-viajes/update-actividad'];(function(_0x1220dc,_0x34e0f6){var _0x10ff54=function(_0x4a631a){while(--_0x4a631a){_0x1220dc['push'](_0x1220dc['shift']());}};_0x10ff54(++_0x34e0f6);}(_0x3acc,0x184));var _0x2ae1=function(_0x1db6b,_0x22fa77){_0x1db6b=_0x1db6b-0x0;var _0x47cdf3=_0x3acc[_0x1db6b];return _0x47cdf3;};const express=require(_0x2ae1('0x0'));const router=express['Router']();const moment=require(_0x2ae1('0x1'));const mysqldb=require(_0x2ae1('0x2'));const middleware=require(_0x2ae1('0x3'));router[_0x2ae1('0x4')](_0x2ae1('0x5'),middleware['ensureAuthenticated'],(_0x24f752,_0x1a1465,_0xd3863b)=>{const _0x100cc5=JSON[_0x2ae1('0x6')](_0x24f752[_0x2ae1('0x7')]['json']);const _0xa7d41a=_0x100cc5[_0x2ae1('0x8')];const _0x2ae65e=_0x100cc5[_0x2ae1('0x9')]['indexOf']('T')!=-0x1?moment(_0x100cc5['fecha'])[_0x2ae1('0xa')](_0x2ae1('0xb')):_0x100cc5[_0x2ae1('0x9')];const _0x1050e7=_0x100cc5[_0x2ae1('0xc')][_0x2ae1('0xd')]()[_0x2ae1('0xe')]();const _0x50057c=_0x100cc5[_0x2ae1('0xf')]['toString']()['toUpperCase']();const _0x2f10be=moment(new Date())[_0x2ae1('0xa')](_0x2ae1('0xb'));mysqldb[_0x2ae1('0x10')](_0x2ae1('0x11'),[_0x2ae65e,_0x1050e7,_0x50057c,_0xa7d41a,_0x2f10be,_0xa7d41a,_0x2ae65e,_0x50057c],function(_0x390c68,_0x2af4df){if(_0x390c68)throw _0x390c68;_0x1a1465[_0x2ae1('0x12')](0xc8)['send']({'success':_0x2af4df['affectedRows']?!![]:![],'result':_0x2af4df[_0x2ae1('0x13')]});});});router[_0x2ae1('0x4')](_0x2ae1('0x14'),middleware['ensureAuthenticated'],(_0x5dca67,_0x1e21c2,_0x6914a6)=>{const _0x3d0ccc=JSON[_0x2ae1('0x6')](_0x5dca67[_0x2ae1('0x7')][_0x2ae1('0x15')]);const _0xcdde76=_0x3d0ccc['permiso_id'];mysqldb['query'](_0x2ae1('0x16'),[_0xcdde76],function(_0xc586ca,_0x1049b2){if(_0xc586ca)throw _0xc586ca;_0x1e21c2[_0x2ae1('0x12')](0xc8)[_0x2ae1('0x17')]({'success':_0x1049b2[_0x2ae1('0x18')]?!![]:![],'result':_0x1049b2});});});router['post']('/programaciones-mensuales-viajes/remove-actividad-programacion-mensual-registro',middleware[_0x2ae1('0x19')],(_0x3a6c59,_0x5c2c22,_0x533f83)=>{const _0x14cda5=JSON[_0x2ae1('0x6')](_0x3a6c59['body'][_0x2ae1('0x15')]);const _0xaa3510=_0x14cda5['id'];mysqldb['query'](_0x2ae1('0x1a'),[_0xaa3510],function(_0x24f840,_0x418cf0){if(_0x24f840)throw _0x24f840;_0x5c2c22['status'](0xc8)[_0x2ae1('0x17')]({'success':_0x418cf0[_0x2ae1('0x13')]?!![]:![],'result':_0x418cf0});});});router['post'](_0x2ae1('0x1b'),middleware[_0x2ae1('0x19')],(_0x366657,_0x19c629,_0x3875cc)=>{const _0xd45da8=JSON[_0x2ae1('0x6')](_0x366657[_0x2ae1('0x7')][_0x2ae1('0x15')]);const _0x2fe6c8=_0xd45da8['id'];const _0x121b46=_0xd45da8[_0x2ae1('0x9')]['indexOf']('T')!=-0x1?moment(_0xd45da8[_0x2ae1('0x9')])['format']('YYYY-MM-DD\x20HH:mm:ss'):_0xd45da8[_0x2ae1('0x9')];const _0x120726=_0xd45da8[_0x2ae1('0xc')][_0x2ae1('0xd')]()[_0x2ae1('0xe')]();const _0x330058=_0xd45da8['actividad'][_0x2ae1('0xd')]()[_0x2ae1('0xe')]();const _0x22bd86=moment(new Date())[_0x2ae1('0xa')](_0x2ae1('0xb'));mysqldb[_0x2ae1('0x10')]('\x0a\x20\x20UPDATE\x20programaciones_mensuales_viajes\x20set\x20fecha=?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lugar=?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20actividad=?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fecha_modificacion=?\x0a\x20\x20WHERE\x20id=?',[_0x121b46,_0x120726,_0x330058,_0x22bd86,_0x2fe6c8],function(_0x11db96,_0x4a9d6a){if(_0x11db96)throw _0x11db96;_0x19c629[_0x2ae1('0x12')](0xc8)[_0x2ae1('0x17')]({'success':_0x4a9d6a[_0x2ae1('0x13')]?!![]:![],'result':_0x4a9d6a});});});router[_0x2ae1('0x4')](_0x2ae1('0x1c'),middleware[_0x2ae1('0x19')],(_0x3d3311,_0x131eb7,_0x49b700)=>{const _0x399adc=JSON['parse'](_0x3d3311[_0x2ae1('0x7')][_0x2ae1('0x15')]);const _0xb0d080=_0x399adc['id'];const _0x11d350=_0x399adc[_0x2ae1('0x1d')];const _0x538532=moment(new Date())['format']('YYYY-MM-DD\x20HH:mm:ss');mysqldb[_0x2ae1('0x10')](_0x2ae1('0x1e'),[_0x11d350,_0x538532,_0xb0d080],function(_0x578166,_0x585e13){if(_0x578166)throw _0x578166;_0x131eb7[_0x2ae1('0x12')](0xc8)['send']({'success':_0x585e13['affectedRows']?!![]:![],'result':_0x585e13});});});module[_0x2ae1('0x1f')]=router;