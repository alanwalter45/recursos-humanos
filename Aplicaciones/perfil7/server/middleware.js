var _0x45fb=['authorization','status','send','NO\x20VERIFICADO\x20-\x20alanwalter45@gmail.com','split','decode','replace','slice','app','exp','js-yaml','whatPathFileConfig','safeLoad','readFileSync','parse','stringify','headers'];(function(_0x24d0c1,_0x2ebcd3){var _0x4a8212=function(_0x1619b5){while(--_0x1619b5){_0x24d0c1['push'](_0x24d0c1['shift']());}};_0x4a8212(++_0x2ebcd3);}(_0x45fb,0x109));var _0x5237=function(_0x3be421,_0x205c7b){_0x3be421=_0x3be421-0x0;var _0x573c74=_0x45fb[_0x3be421];return _0x573c74;};const jwt=require('jwt-simple');const moment=require('moment');const fs=require('fs');const yaml=require(_0x5237('0x0'));let pathFileConfig=require('./os');var path_file=pathFileConfig[_0x5237('0x1')]();try{const docYML=yaml[_0x5237('0x2')](fs[_0x5237('0x3')](path_file,'utf-8'));var ymlDoc=JSON[_0x5237('0x4')](JSON[_0x5237('0x5')](docYML));}catch(_0x3a3f36){throw _0x3a3f36;}exports['ensureAuthenticated']=(_0xcd99aa,_0x25856d,_0x41643a)=>{if(!_0xcd99aa[_0x5237('0x6')][_0x5237('0x7')]){return _0x25856d[_0x5237('0x8')](0x193)[_0x5237('0x9')]({'message':_0x5237('0xa')});}const _0xd6327=_0xcd99aa[_0x5237('0x6')]['authorization'][_0x5237('0xb')]('\x20')[0x1];try{const _0x5df49c=jwt[_0x5237('0xc')](JSON[_0x5237('0x5')](_0xd6327)[_0x5237('0xd')]('\x22','')[_0x5237('0xe')](0x0,-0x1),ymlDoc[_0x5237('0xf')]['gral']['secret_api_key']);if(_0x5df49c[_0x5237('0x10')]<=moment()['unix']()){return _0x25856d[_0x5237('0x8')](0x191)[_0x5237('0x9')]({'message':'el\x20token\x20expirÃ³\x20-\x20alanwalter45@gmail.com'});}}catch(_0x2111c7){return _0x25856d['status'](0x191)[_0x5237('0x9')]({'message':'el\x20token\x20error\x20-\x20alanwalter45@gmail.com','error':_0x2111c7});}_0x41643a();};